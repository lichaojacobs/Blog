<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.7.1" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>标签: Yarn - CHAO LI&#39;s Blog</title>


    <meta property="og:type" content="website">
<meta property="og:title" content="CHAO LI&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/tags/Yarn/index.html">
<meta property="og:site_name" content="CHAO LI&#39;s Blog">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CHAO LI&#39;s Blog">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    <script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?4ca08f1c48fe3bf3d0e2bfb54473d985";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/hadoop_logo.jpg" alt="CHAO LI&#39;s Blog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">标签</a></li>
            <li class="is-active"><a href="#" aria-current="page">Yarn</a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-01-06T17:42:13.000Z">2020-01-07</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 读完 (大约 917 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/01/07/MR任务在Hadoop子系统中状态流转/">MR任务在Hadoop子系统中状态流转</a>
            
        </h1>
        <div class="content">
            <p>深入做hadoop相关的工作也有一段时间了，期间零零散散看了不少源码，但很多都是看完就忘了，很难形成结构化的记忆。于是决定通过流程图的方式来刻画一个MR任务在Hadoop子系统中的状态机流转过程。<br><a href="https://zhuanlan.zhihu.com/p/101352679" target="_blank" rel="noopener">知乎链接</a></p>
<h2 id="MR任务提交过程"><a href="#MR任务提交过程" class="headerlink" title="MR任务提交过程"></a>MR任务提交过程</h2><p><img src="https://pic1.zhimg.com/80/v2-73ff12c7a51dc7962821e06d67c9be1c_hd.png" alt="img"></p>
<p>一个MR任务在hadoop 客户端通过rpc 方式提交到yarn上；大致过程如上图</p>
<ul>
<li>JobSubmitter<ul>
<li>封装了向yarn(ClientRMService)提交的过程</li>
<li>与hdfs交互计算任务输入数据的分片大小，以及将jar包加入DistributedCache中</li>
</ul>
</li>
<li>ClientServiceDelegate<ul>
<li>设计的目的是统一封装monitorJob过程获取任务执行状态，counters等信息的rpc client代理；其背后通过Java反射的方式，在任务的不同阶段会分别请求RM, AM, 或MR History Server（以下简称MHS）服务</li>
<li>因各种情况会有部分线上任务流量降级穿透到MHS服务，而MHS服务自身实现有较大瓶颈，我们其进行了leveldb方案的改造，整体查询性能提升<strong>20倍</strong></li>
</ul>
</li>
</ul>
<h2 id="分片计算过程"><a href="#分片计算过程" class="headerlink" title="分片计算过程"></a>分片计算过程</h2><p>下面看一下getSplits过程，我们默认用的是CombineFileInputFormat实现，先上图</p>
<p><img src="https://pic4.zhimg.com/80/v2-8add590ce801446aef9d08c031a8c3ff_hd.png" alt="img"></p>
<p>我们知道，MR计算框架强调的是数据本地性。在图中有三个结构nodeToBlocks，rackToBlocks，blockToNodes；其中nodeToBlocks代表的是local级别，优先选择此集合中的分片，当剩下的blocks不足minSizeNode阈值时会通过blockToNodes数据结构，进行次优的分片划分的过程，以此类推。</p>
<h2 id="ApplicationMaster启动过程"><a href="#ApplicationMaster启动过程" class="headerlink" title="ApplicationMaster启动过程"></a>ApplicationMaster启动过程</h2><p>当一个任务提交到RM后，需要等待RM分配资源启动AM之后才开始后续自己的资源&amp;任务处理过程，先上图（<strong>以下板块省去了内部自实现的调度算法</strong>）</p>
<p><img src="https://pic1.zhimg.com/80/v2-616195ee1bab87905cb4e3c31182142c_hd.png" alt="img"></p>
<p>此时涉及到RMApp, RMAppAttempt，RMNode，以及RMContainer等状态机的轮转</p>
<p><img src="https://pic4.zhimg.com/80/v2-3f2f539ad5ebb736d7a85d4b606a9683_hd.png" alt="img"></p>
<h2 id="MR任务状态机流转"><a href="#MR任务状态机流转" class="headerlink" title="MR任务状态机流转"></a>MR任务状态机流转</h2><p>当Yarn RM通过ContainerManagerProtocol协议将AM Container启动之后，AM便开始了Map/Reduce（一般map执行完之后）任务调度过程</p>
<p><img src="http://jacobs.wanhb.cn/images/mr_job_trans.jpg" alt="事务处理相关类的层次结构"></p>
<p>运行期间涉及到的状态机有Job, Task, 以及TaskAttempt，当然还有AM register/unregister过程Yarn RM系统对应的状态机转换；大致描述一下流程：</p>
<ul>
<li>MR AM启动，通过Job状态机初始化<ul>
<li>初始化CommitterEventHandler，用于最后job完成时通过commit过程将temp目录的数据转移到final 目录中</li>
<li>初始化Map/Reduce Task以及对应的TaskAttempt（Task具体的某次尝试），通过RMContainerAllocator先对map task进行调度，后进行reduce task调度</li>
</ul>
</li>
<li>通过ApplicationMasterService向RM注册自己，代表某个RMAppAttempt对应的AM Container已启动，可以定期向RM发送allocate心跳了</li>
<li>在RMContainerAllocator中通过allocate心跳向RM请求资源，得到response之后将分得的container再按优先级assign给对应的task</li>
<li>在TaskAttempt得到container之后通过ContainerLanucher向NodeManager请求启动Container</li>
<li>任务运行完成做对应的commit，clean操作之后，通过ApplicatioinMasterService告知RM任务完成，此时RMApp/Attempt做任务完成的状态转换</li>
</ul>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-04T17:47:46.000Z">2019-11-05</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    19 分钟 读完 (大约 2854 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/05/Yarn-Federation源码串读/">Yarn Federation源码串读</a>
            
        </h1>
        <div class="content">
            <p><a href="https://zhuanlan.zhihu.com/p/79378807" target="_blank" rel="noopener">知乎链接</a></p>
<h2 id="Federation架构总览"><a href="#Federation架构总览" class="headerlink" title="Federation架构总览"></a>Federation架构总览</h2><ul>
<li>Federation: 主要有四个模块，Router ，StateStore，AMRMProxy, Global Policy Generator；从架构上来看，有点类似于后端的微服务架构中<strong>服务注册发现</strong>模块</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-7ee20bc86d8be49d25b5ca3897d3278f_b.png" alt="img"></p>
<h2 id="Router模块"><a href="#Router模块" class="headerlink" title="Router模块"></a>Router模块</h2><ul>
<li>类似于微服务的网关模块；通过state store获取具体的集群配置策略，将client端submit请求转发到对应的subCluster中</li>
<li>代码结构</li>
<li>hadoop-yarn-server-router：router组件核心实现，分为对接admin用户的协议和client用户协议，以及web server三个子模块实现  </li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-b6ee24339266083c97b6642c4f3a081e_b.png" alt="img"></p>
<ul>
<li>hadoop-yarn-server-common-federation-router：包含了Router的各种Policy，具体控制router给子集群分配app的策略</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-e7402699fce4808743375957f68a8b11_b.png" alt="img"></p>
<h3 id="Router-clientrm"><a href="#Router-clientrm" class="headerlink" title="Router- clientrm"></a><strong>Router- clientrm</strong></h3><ul>
<li>负责接收客户端命令请求，并根据对应router具体配置的policy将客户端请求转发到HomeSubcluster上</li>
<li>在每一个router服务上随着启动，用来监听客户端作业提交，实现了Client与RM沟通的RPC协议接口(ApplicationClientProtocol)；作为client的proxy，执行一系列的chain interceptor），通常FederationClientInterceptor需作为最后一个拦截器</li>
<li>当然RouterClientRMService某种程度上针对的是Server测，取代原来RM侧<strong>RMClientService</strong>；在客户端具体的调用还是在<strong>YarnClientImpl</strong>；之间通过RPC通信</li>
<li>初始化： 获取配置文件中配置的拦截器，默认是DefaultClientRequestInterceptor  </li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-74b97de7e4a90be9f4f7f5e703dcbd56_b.png" alt="img"></p>
<ul>
<li>DefaultClientRequestInterceptor只是做了简单的请求透明转发；没涉及到多子集群的处理</li>
<li>FederationClientInterceptor：面向client，隐藏了多个sub cluster RM；但是目前只实现了四个接口：<strong>getNewApplication, submitApplication, forceKillApplication and getApplicationReport</strong></li>
<li><strong>FederationClientInterceptor</strong></li>
<li>clientRMProxies: 子集群id与对应的通信client的key value集合</li>
<li>federationFacade: 对应的state store具体实现</li>
<li>policyFacade: 路由策略的工厂  </li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-d6bbfd466b88388bdb9777d17d159210_b.png" alt="img"></p>
<ul>
<li>一个任务的提交需经过<strong>FederationClientInterceptor.getNewApplication</strong>和<strong>submitApplication</strong>接口，前者获得新的<strong>applicationId</strong>, 后者通过获得的<strong>applicationId</strong>将任务提交到具体的sub Cluster RM；这一个阶段没有经过与state store的写操作</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-6824ab1d9c5489ea0264ef5b79f9f075_b.png" alt="img"></p>
<ul>
<li>getNewApplication实现只是<strong>随机</strong>的选择一个active sub cluster来获取一个新的<strong>applicationId</strong>；而subClustersActive是通过具体实现的<strong>state store</strong>来获取，此处有过滤active的字段</li>
<li>submitApplication，方法注释有讨论各种failover的处理情况；</li>
<li>RM没挂的情况：如果state store 更新成功了，则多次提交任务都是幂等的</li>
<li>RM挂了：则router time out之后重试，选择其他的sub cluster</li>
<li>Client挂了：跟原来的/ClientRMService/一样</li>
<li>通过policyFacade加载策略，根据context与blacklist为当前提交选择sub cluster；具体逻辑在<strong>FederationRouterPolicy.getHomeSubcluster</strong>  </li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-c6dbd82e45d5c69bd30b07e4f7e077a3_b.png" alt="img"></p>
<ul>
<li>同步提交任务至目标sub cluster</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-da2fa220baae8ba7238a1b77bebe009a_b.png" alt="img"></p>
<p><strong>疑问&amp;&amp;待确定的点</strong></p>
<ul>
<li>client —&gt; router —&gt; rm： 这条链路如果router挂了如何failover；<strong>在submitApplication方法上方有较为详细的边界情况处理解释</strong></li>
<li><strong>是否支持多个router？以及在配置中如何指定多个router？防止一个router挂掉的情况</strong></li>
<li><strong>需要确定是否有机制来维系真正存活的cluster，是否会动态摘除down掉的RM</strong></li>
</ul>
<h2 id="Policy-State-Store模块"><a href="#Policy-State-Store模块" class="headerlink" title="Policy State Store模块"></a>Policy State Store模块</h2><h3 id="FederationStateStoreFacade"><a href="#FederationStateStoreFacade" class="headerlink" title="FederationStateStoreFacade"></a>FederationStateStoreFacade</h3><ul>
<li>作为statestore的封装，抽象出一些重试和缓存的逻辑</li>
</ul>
<h3 id="FederationStateStore"><a href="#FederationStateStore" class="headerlink" title="FederationStateStore"></a>FederationStateStore</h3><ul>
<li>一般采用<strong>ZookeeperFederationStateStore</strong>的方式</li>
<li><strong>ZookeeperFederationStateStore</strong>  实现中，对应的数据存储结构如下  </li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-b4e79639629bdec688ec4efb6f9b275f_b.png" alt="img"></p>
<ul>
<li>通过心跳维系了RM是否是active；通过<strong>filterInactiveSubClusters</strong>来决定是否需要过滤存活的RM</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-1de1b20d5b5a5c01c26e6724695cf440_b.png" alt="img"></p>
<ul>
<li><strong>实例化过程</strong></li>
<li>加载配置<strong><em>yarn.federation.state-store.class</em></strong>：默认实现是<strong><em>MemoryFederationStateStore</em></strong></li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-e5888bd36c0c482c10c2bb22782ceb27_b.png" alt="img"></p>
<h3 id="SubClusterResolver"><a href="#SubClusterResolver" class="headerlink" title="SubClusterResolver"></a>SubClusterResolver</h3><ul>
<li>用来判断某个指定的node是属于哪个子集群的工具类;主要有getSubClusterForNode，getSubClustersForRack方法</li>
<li>实例化过程</li>
<li>加载配置yarn.federation.subcluster-resolver.class: 默认实现是DefaultSubClusterResolverImpl</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-cf9ebad47e5c250ef5a545ee4e1c1b05_b.png" alt="img"></p>
<ul>
<li>在<strong>load</strong>方法中，获取了machineList，定义list的地方是在一个文件中通过<strong>yarn.federation.machine-list</strong>获取文件位置；且文件中的内容格式如下</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-7d1685ce8602e9884412e42a9faaf72e_b.png" alt="img"></p>
<ul>
<li>解析文件之后，将machine依次添加到<strong>nodeToSubCluster</strong>，<strong>rackToSubClusters</strong>集合中</li>
</ul>
<h2 id="AMRMProxy模块"><a href="#AMRMProxy模块" class="headerlink" title="AMRMProxy模块"></a>AMRMProxy模块</h2><ul>
<li>看完client—&gt;rm侧的提交任务模块之后（<strong>router</strong>），接下来可以分析AM与RM侧的交互模块(<strong>AMRMProxy</strong>)  </li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-d90061b8beeb05e40586a3dada4222a7_b.png" alt="img"></p>
<ul>
<li>AMRMProxyService ：如上图所示，起于所有的NM之上的服务，作为AM与RM之间通信的代理；会将AM请求转发到正确的HomeSubCluster</li>
<li>FederationInterceptor: 作为AMRMProxyService中的拦截器，主要做AM与RM之间请求转发</li>
</ul>
<h3 id="AMRMProxyService-—-FederationInterceptor"><a href="#AMRMProxyService-—-FederationInterceptor" class="headerlink" title="AMRMProxyService — FederationInterceptor"></a>AMRMProxyService — FederationInterceptor</h3><ul>
<li>类比Router，FederationInterceptor作为AMRMProxy的请求拦截处理</li>
<li>在AM的视角，<strong>FederationInterceptor</strong>的作用就RM上的<strong>ApplicationMasterService</strong>；AM通过<strong>AMRMClientAsyncImpl</strong>或<strong>AMRMClientImpl</strong> 走RPC协议与<strong>AMRMProxyService</strong> 交互</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-0ec5e08fa702ab8a00bb11528da4b138_b.png" alt="img"></p>
<p><strong>registerApplicationMaster详解</strong></p>
<ul>
<li>按照正常的AM流程分析，由<strong>AMLauncher</strong>启动container之后须首先会调用<strong>registerApplicationMaster</strong>方法初始化权限信息以及将自己注册到对应的RM上去；对应到<strong>FederationInterceptor</strong>是如下方法</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-a322c31e9908ed4f8b08c05130c67688_b.png" alt="img"></p>
<ul>
<li>制造一种假象：RM永不会挂掉；有可能会因为超时或者RM挂掉等原因而导致发出多个重复注册的请求，此时都会返回最近一次成功的注册结果；所以这也就是为什么registermaster这个方法必须为线程安全的原因</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-e127ca2f6e0120575bc76c5b38126a43_b.png" alt="img"></p>
<ul>
<li>目前只是往HomeSubCluster上注册AM，而不会往其他子集群上注册。是为了不影响扩展性；即不会随着集群的增多AM呈线性扩展；应该是后续按需注册sub-cluster rm</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-571134517c85d3c6fd5a237412618a74_b.png" alt="img"></p>
<ul>
<li><strong>this.homeRMRelayer</strong>是具体的跟RM通信的代理，其创建方式在<strong>FederationInterceptor.init</strong>方法中</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-4afe5125de9a0e80a3440f6807e12e84_b.png" alt="img"></p>
<ul>
<li>最后在返回response之前，会根据作业所属的queue信息从statestore中获取对应的策略，并初始化<strong>policyInterpreter</strong></li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-bab165a60bd63a3c43549950825d28a0_b.png" alt="img"></p>
<h3 id="Allocate详解"><a href="#Allocate详解" class="headerlink" title="Allocate详解"></a>Allocate详解</h3><ul>
<li>周期性的通过心跳与HomeCluster和SubCluster RMs交互；期间可能伴随有SubCluster 上AM的启动和注册</li>
<li><strong>splitAllocateRequest</strong>：将原来的request重新构造成面向所有已经注册的sub-cluster rm request</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-bf455e34f88d53a7dcc5ffea1d51d8a9_b.png" alt="img"></p>
<ul>
<li>具体到实现：通过requestMap来放置clusterId与allocateRequest的对应关系；通过uamPool获取已经注册UAM的sub clusterId并构建request</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-3bb90c887c818638bb335ff6d46b9d46_b.png" alt="img"></p>
<ul>
<li>后面的步骤是根据所有已经注册的home cluster和sub cluster id构建release, ask, blacklist等请求</li>
<li>对于资源的请求拆分：这里会去调federation policy interpreter将原来request中的<strong>askList(Resource Request List)</strong>根据策略拆分到各个子集群；所以这里会涉及到Federation Policy调用，具体的分析接下来会单独拎出一小节解释</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-675411d4dfdc72c8d89ee301a8709b7c_b.png" alt="img"></p>
<ul>
<li>拿到<strong>asks</strong>后，会将<subclusterid, resourcerequestlist="">的对应关系，加入到<strong>requestMap</strong>中</subclusterid,></li>
<li><strong>注意：</strong>这里借助<strong>findOrCreateAllocateRequestForSubCluster</strong>方法实现如果requestMap中不存在asks中对应的subClusterId，会新new一个request塞入map；后续这个request会在对应的subCluster上启动<strong>UAM</strong></li>
<li><strong>因为对于新的job，刚开始确实是只在homeCluster上启动了AM</strong></li>
<li><strong>sendRequestsToResourceManagers</strong></li>
<li>splitAllocateRequest之后就是将构造好的请求发送到对应的cluster上；顺带在所有的subcluster启动UAM并注册上(如果之前没有启动的话)；返回值是所有新注册上的UAM</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-34f142d2135a9f8b12ae234966bde9b6_b.png" alt="img"></p>
<ul>
<li><strong>registerWithNewSubClusters</strong> 用来在其他子集群中创建新的UAM实例</li>
<li>在uamPool中不存在的被认为是新集群（<em>有点与<strong>splitAllocateRequest</strong>） 取AllUAMIds逻辑矛盾</em>）</li>
<li>对newSubClusters集合迭代，依次在subClaster上启动UAM，并注册UAM</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-1051b6772a9c893a910f3497cb9cc327_b.png" alt="img"></p>
<ul>
<li>最后针对不同的cluster，调用不同的clientRPC请求资源</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-2e0d3265a416a8bd9131559ce958b2f1_b.png" alt="img"></p>
<ul>
<li><strong>mergeAllocateResponses</strong></li>
<li>用于合并所有资源请求返回的allocateResponse。实现里面是对<strong>asyncResponseSink</strong>容器的迭代，而asyncResponseSink的写入是在HeartBeatCallback逻辑里的</li>
<li>对于allocateResponse的合并操作在<strong>mergeAllocateResponse</strong>中</li>
<li><strong>mergeRegistrationResponses</strong></li>
<li>是在注册完其他的sub cluster之后将UAM加入到最终合并的AllocateResponse中；主要是对allocatedContainers以及NMTokens集合做增加</li>
</ul>
<h3 id="finishApplicationMaster详解"><a href="#finishApplicationMaster详解" class="headerlink" title="finishApplicationMaster详解"></a>finishApplicationMaster详解</h3><ul>
<li>结束任务的时候有点类似allocate，需要向所有的sub cluster发送finish请求；目前是丢到一个compSvc线程池中批量执行*finshApplicationMaster</li>
<li>在线程池中执行sub cluster finish的同时，也会调用home cluster rm进行finish操作</li>
</ul>
<h2 id="Federation-Policy模块"><a href="#Federation-Policy模块" class="headerlink" title="Federation Policy模块"></a>Federation Policy模块</h2><ul>
<li>federation policy模块通过FederationPolicyManager的接口实现来统一加载</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-6a2db128fc5762aba3591cf4912bfc40_b.png" alt="img"></p>
<ul>
<li><strong>FederationPolicyInitializationContext</strong>：初始化FederationAMRMProxyPolicy和FederationRouterPolicy的上下文类</li>
<li><strong>federationStateStoreFacade</strong>: policy state strore的具体实现实例</li>
<li><strong>federationPolicyConfiguration</strong>: 具体的策略配置</li>
<li><strong>federationSubclusterResolver</strong>：用来判断某个指定的node是属于哪个子集群的工具类</li>
<li><strong>homeSubcluster</strong>：当前application实际AM运行的集群ID</li>
</ul>
<h2 id="Policy-具体的实现列举"><a href="#Policy-具体的实现列举" class="headerlink" title="Policy 具体的实现列举"></a>Policy 具体的实现列举</h2><h3 id="amrmproxy模块的policy实现"><a href="#amrmproxy模块的policy实现" class="headerlink" title="amrmproxy模块的policy实现"></a>amrmproxy模块的policy实现</h3><ul>
<li><strong>LocalityMulticastAMRMProxyPolicy</strong></li>
<li>\1. 如果是有偏好的host的话，会根据<em>SubClusterResolver</em> resolve cluster的结果转发到对应的cluster，但如果没有resolve的话，会默认将请求转向home cluster</li>
<li>\2. 如果有机架的限制，策略同上</li>
<li>\3. 如果没有host/rack偏好的话，会根据<em>weights</em>转发到对应的集群；weights的计算根据<em>WeightedPolicyInfo</em>以及<em>headroom</em>中的信息</li>
<li>\4. 所有请求量为0的请求都会转发到所有我们曾经调度过的子集群中（以防用户在尝试取消上一次的请求）</li>
<li>注：该实现始终排除当前未活跃的RM</li>
<li><strong>具体实现细节待深究</strong></li>
</ul>
<p><strong>router模块的policy实现</strong></p>
<ul>
<li>总体来说router端的策略偏简单，自己定制也容易</li>
<li>默认实现是<strong>UniformRandomRouterPolicy</strong>，随机转发client请求到某个alive的cluster</li>
</ul>
<h2 id="一些问题"><a href="#一些问题" class="headerlink" title="一些问题"></a>一些问题</h2><ul>
<li>在NM侧，不能开启<strong>FederationRMFailoverProxyProvider</strong>，这个统一在获取RMAddress逻辑上有不足，导致NM启动时拿到的RMAddress是localhost无法通过ResourceTracker连上RM，最终注册失败</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-edc97c0d9ba93b9094e561e6cd7b5464_b.png" alt="img"></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-04T17:38:28.000Z">2019-11-05</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    15 分钟 读完 (大约 2236 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/05/Hadoop-Rpc源码分析/">Hadoop Rpc源码分析</a>
            
        </h1>
        <div class="content">
            <p>Hadoop生态系统中Rpc底层基本都是走的一套实现，所以有必要对Rpc底层实现做一次系统性的梳理总结。<br><a href="https://zhuanlan.zhihu.com/p/88768710" target="_blank" rel="noopener">知乎链接</a></p>
<p><strong>Client&amp;Server实现入口</strong></p>
<p>RpcEngine作为Rpc实现的接口，用来获取client端proxy和server端的server</p>
<ul>
<li>主要的实现是WritableRpcEngine，ProtobufRpcEngine（现默认），两者的区别主要是序列化与反序列化的协议不同；内部都有继承Server构成完整Rpc Server的实现类</li>
<li>IPC.Server是两种序列化协议的基类，org.apache.hadoop.ipc.Server 主要实现了Reactor的请求处理模式</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-c8db58fa71163284be19a5ef5d18226b_b.jpg" alt="img"></p>
<h2 id="Client-amp-Server-构造方式"><a href="#Client-amp-Server-构造方式" class="headerlink" title="Client &amp; Server 构造方式"></a>Client &amp; Server 构造方式</h2><ul>
<li>按照序列化协议区分两种实现：ProtobufRpcEngine, WriteableRpcEngine</li>
<li>通过接口getProxy 构造RpcClient</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-88bd21ee56a1cd64a95d970c67c743a5_b.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/v2-92891b943d699abd3dbb68332be7c6e4_b.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-1a71694dbcf4d96672256ed37fa33cf9_b.jpg" alt="img"></p>
<ul>
<li>getServer构造RpcServer</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-7ea92e7484f556a3f658e79a751e19a1_b.jpg" alt="img"></p>
<h3 id="RPC-Client剖析"><a href="#RPC-Client剖析" class="headerlink" title="RPC Client剖析"></a>RPC Client剖析</h3><p>总体来说Client端实现比较简单，用hashTable的结构来维护connectionId -&gt; connections以及callId -&gt; calls 对应关系，使得请求响应不需要有严格的顺序性</p>
<ul>
<li>Ipc.Client构成</li>
<li>callIdCounter：callId 发号器</li>
<li>rpc_client.png: HashTable结构，用来维护Id → Connection的映射</li>
<li>sendParamsExecutor：请求发送线程池    </li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-9b923f98235d7881f79f9525f2a025f5_b.jpg" alt="img"></p>
<ul>
<li>Connection：自身是一个线程</li>
<li>calls: HashTable结构，请求结束将从call从HashTable中移除</li>
<li>sendRpcRequest：用户线程中通过call入口调用，用户线程阻塞</li>
<li>receiveRpcResponse:  run中不断轮询server看结果是否就绪</li>
<li>client 处理过程</li>
</ul>
<p><img src="http://jacobs.wanhb.cn/images/rpc_client.png" alt="img"></p>
<ul>
<li>通过反射获取到方法描述，走client Invoker调用远程实现</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-a73c35b6ffe44b32f40f638f110d0ac6_b.jpg" alt="img"></p>
<ul>
<li>getConnection中与远程server 建立socket 连接，并将连接加入connections集合中</li>
<li>在用户线程中调用connection.sendRpcRequest，阻塞的获取结果</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-9ace991f5df04fde6559437de1e46402_b.jpg" alt="img"></p>
<ul>
<li>Connection自身run方法中不停的轮询Server接收返回结果</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-d4ebd6403c80e86bb7ea7acff2b3e643_b.jpg" alt="img"></p>
<ul>
<li>waitForWork用来判断当前connection是否应该继续存在，返回true则继续轮询server，如果是false则关闭当前connection</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-c46e3a852373a74fa752a8b1edfe176f_b.jpg" alt="img"></p>
<ul>
<li><strong>receiveRpcResponse</strong>接收服务端返回结果，将calls移除table，可以乱序，通过ConnectionId索引，<strong>不需要同步代码块，因为只有一个receiver</strong></li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-347d4bb3e5d6bafe471a1b8e686343e8_b.jpg" alt="img"></p>
<h3 id="RPC-Server剖析"><a href="#RPC-Server剖析" class="headerlink" title="RPC Server剖析"></a>RPC Server剖析</h3><ul>
<li>Server端采用经典的Reactor模式，利用IO多路复用实现事件驱动</li>
<li>痛点在于多路复用之前的处理模式，socket read/write是阻塞的，一个线程只能处理一个socket；使用selector之后一个进程可以监视多个进程文件描述符</li>
</ul>
<p>参考阅读：<a href="https://www.cnblogs.com/crazymakercircle/p/9833847.html" target="_blank" rel="noopener">Reactor模式</a>、<a href="https://www.cnblogs.com/crazymakercircle/p/10225159.html#4310290" target="_blank" rel="noopener">Java  NIO   底层原理 </a> 、<a href="https://www.jianshu.com/p/dfd940e7fca2" target="_blank" rel="noopener">select、poll、epoll</a></p>
<p><img src="https://pic1.zhimg.com/v2-58df22a9108b9c724c8b757f6357d8c4_b.jpg" alt="img"></p>
<p>图片摘自《Hadoop技术内幕：深入解析MapReduce架构设计与实现原理 》</p>
<ul>
<li>Reactor 工作图</li>
<li>Reactor：负责响应IO事件，将事件派发到工作线程</li>
<li>Acceptor：用来接收Client端的请求，建立Client与handler的联系；向Reactor注册handler</li>
<li>Reader/Sender：为了加快速度，同时做到请求和处理过程的隔离，reader和sender 分别是两个线程池，用来存放该过程处理完后的连接，处理完之后塞入中间队列，等待下一个过程的线程拿去处理就行</li>
<li>Handler：connection对应的工作线程，会做一些decode, compute, encode工作</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-64e02ba7cce407bf7d191ce4b08bfdeb_b.jpg" alt="img"></p>
<p><strong>Hadoop RpcServer组成结构</strong></p>
<ul>
<li><strong>序列化层</strong>：RpcRequestWrapper, RpcResponseWrapper</li>
<li><strong>接口调用层</strong>：RpcInvoker，通过反射方式阻塞调用Server端具体的Service方法；调用前后记录一些metrics信息</li>
<li>在handler线程处理逻辑中，通过注册的rpcKind获取对应的RpcInvoker实现，通过反射来调用工作层的Service</li>
<li><strong>请求接收/返回层Ipc.Server</strong>：基于Java NIO实现的Reactor 事件驱动模式</li>
<li>Listener</li>
<li>selector：监听请求 → 建立连接 → 派发到Reader线程</li>
<li>Readers</li>
<li>readSelector：解析&amp;封装Call → 塞入CallQueue </li>
<li>Handlers：工作线程</li>
<li>并行pull CallQueue，调用RpcInvoker处理</li>
<li>Responder：read request和write response采用不同的selector实现读写分离</li>
<li>writeSelector</li>
<li>connectionManager: 定时清理idle时间过长的Connection</li>
<li>CallQueue：reader handler之间的缓冲队列，<strong>生产消费者模型</strong></li>
</ul>
<h3 id="RPC-Server-处理流程"><a href="#RPC-Server-处理流程" class="headerlink" title="RPC Server 处理流程"></a>RPC Server 处理流程</h3><p><img src="https://pic2.zhimg.com/v2-38a1ef7504f6e74ba8bb4aa3a0a1bdb5_b.jpg" alt="img"></p>
<ul>
<li>Listener → Reader 请求建立过程：Listener<em>Reader</em>Connection</li>
<li>Listener线程只有一个，通过Selector方式监听客户端的Rpc请求(OP_ACCEPT事件)，调用doAccept方法建立连接；此时connectionManager线程开始工作</li>
<li>建立连接后，roundbin方式获取一个reader线程，将连接塞入reader线程的pending队列和connectionManager中</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-3d7ddb917b9a9bba707c2208e9b71c4f_b.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/v2-fb8edf28b12530ea9f49ce030d780f7b_b.jpg" alt="img"></p>
<ul>
<li>Reader线程doRunLoop中，将pending的connections注册到readSelector中，用来监听一个connection读就绪事件</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-c3056224c1b460860b0b9c26c2ccc182_b.jpg" alt="img"></p>
<ul>
<li>数据读入 → 工作线程 : Reader<em>Connection</em>CallQueue</li>
<li>而后Reader通过selector方式，只要监听的channel有读事件，则调用doRead方法；其中通过selectionKey获取关联的connection对象，调用connection的readAndProcess方法</li>
<li>connection.readAndProcess: 主要是将channel里面的数据读入data byteBuffer中，数据读完之后调用processOneRpc 进一步处理</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-01d207ac87060718231e7d6a32599412_b.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/v2-74ff999fb2c4844c9470e9d3bfefa943_b.jpg" alt="img"></p>
<ul>
<li>connection. processOneRpc 对buffer decode构造成DataInputStream以及RpcHeader（请求元信息，协议类型等）通过processRpcRequest将请求塞入CallQueue中，等待handlers处理</li>
<li>connection.processRpcRequest：通过header中指定的rpc engine将dataInputStream根据不同engine反序列化协议反序列化成rpcRequestWrapper；构造Call对象塞入CallQueue, 并incrRpcCount</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-46cd9573bbe1ffd820a5a22ca16628d9_b.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/v2-195514acc9cc988cd2b7c14f45a535d4_b.jpg" alt="img"></p>
<ul>
<li>Handler → RpcInvoker → Responder</li>
<li>Handler线程在Server start的时候就已经构建启动了</li>
<li>并行pull callQueue获取队列中未处理的call，调用call方法</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-cc649767778d9769384fde11b8b7a5c0_b.jpg" alt="img"></p>
<ul>
<li>通过rpcKind获取对应的RpcInvoker实现；主看ProtoBufRpcInvoker.call</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-07fc870601bd5199e9c298828106c598_b.jpg" alt="img"></p>
<ul>
<li>通过反射获取server端对应的接口实现，阻塞调用，在调用前后记录一些metrics信息；最后将结果包装成RpcResponseWrapper</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-2c1300aac072c27f7a7f6d02326643d5_b.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/v2-10f7ea1450e7fcba8eeba0b28cfade16_b.jpg" alt="img"></p>
<ul>
<li>当结果处理完成之后，通过setupResponse将结果序列化成byte buffer根据不同engine实现的wrapper 序列化方式有所不同</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-ced2fa047079e775740313b85008ea2b_b.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/v2-0ec60ac2232816c3d38b72ce5ac1c02e_b.jpg" alt="img"></p>
<ul>
<li>调用Responder.doRespond将请求结果返回客户端</li>
<li><strong>请求返回处理过程:</strong>  通过Responder线程+ writeSelector</li>
<li>Responder.doRespond</li>
<li>在handler中尽可能的将response一次性写入channel buffer，如果没有剩余则不用注册Responder的Responder.doRespond</li>
<li>如果一次性写不完且是在handler线程中，则唤醒writeSelector，将当前channel 注册 SelectionKey.OP_WRITE 异步去处理</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-3b339c9e8e15060518996edccee9aebf_b.jpg" alt="img"></p>
<ul>
<li>Responder 线程自身的doRunLoop里面也是通过writeSelector监听OP_WRITE事件处理</li>
</ul>
<p><img src="https://pic1.zhimg.com/v2-7c4c403ee9bff19653e58088d81d7428_b.jpg" alt="img"></p>
<ul>
<li><strong>CallQueueManager</strong> 相关</li>
<li>默认实现是LinkedBlockingQueue</li>
<li>大小通过queueSizePerHandler或ipc.server.handler.queue.size * handler_count 决定</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-56e6f38dd99dc26c8dbe3ccb84a581aa_b.jpg" alt="img"></p>
<ul>
<li><strong>ConnectionManager相关</strong>：用来定时清理idle时间过长的connection</li>
<li>idleScanThreshold: 每次轮询扫描的connections 阈值default 4000</li>
<li>idleScanInterval: 定时检测线程轮询间隔 default 10000</li>
<li>maxIdleTime:  一个connection最长idle时间，default 2* 10000</li>
<li>maxIdleToClose : 一次轮询最多关闭的连接数 default 10</li>
<li>一个connection是不是可以被清理由以下条件决定</li>
<li>connection.isIdle(): rpcCount为0, 也就是Call没有塞入callQueue；在connection.processRpcRequest末尾，如果成功塞入callQueue中的话会incrRpcCount</li>
<li>lastContact &lt; minLastContact: </li>
<li>minLastContact:  Time.now() - maxIdleTime</li>
<li>startIdleScan：开启清理线程，随Listener线程启动</li>
</ul>

        </div>
        
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/profile.jpg" alt="CHAO LI">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        CHAO LI
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Big Data
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Beijing</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            30
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            0
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            39
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">
                关注我</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/ppoffice/hexo-theme-icarus">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/lichaojacobs" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Github</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.zhihu.com/people/chao-li-11" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">知乎</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.zhihu.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://weibo.com/3101672623/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">微博</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">weibo.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/BigData/" style="font-size: 10px;">BigData</a> <a href="/tags/Crawler/" style="font-size: 10px;">Crawler</a> <a href="/tags/HBase/" style="font-size: 10px;">HBase</a> <a href="/tags/Hadoop/" style="font-size: 15px;">Hadoop</a> <a href="/tags/Hbase/" style="font-size: 12.5px;">Hbase</a> <a href="/tags/InnoDB/" style="font-size: 10px;">InnoDB</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Kylin/" style="font-size: 10px;">Kylin</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/ReentrantLock/" style="font-size: 10px;">ReentrantLock</a> <a href="/tags/Spark/" style="font-size: 17.5px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Yarn/" style="font-size: 15px;">Yarn</a> <a href="/tags/aop/" style="font-size: 12.5px;">aop</a> <a href="/tags/data/" style="font-size: 10px;">data</a> <a href="/tags/infrastructure/" style="font-size: 12.5px;">infrastructure</a> <a href="/tags/ioc/" style="font-size: 12.5px;">ioc</a> <a href="/tags/java8/" style="font-size: 10px;">java8</a> <a href="/tags/kylin/" style="font-size: 12.5px;">kylin</a> <a href="/tags/kylin-Java-源码/" style="font-size: 12.5px;">kylin - Java - 源码</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/paper/" style="font-size: 10px;">paper</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/spark/" style="font-size: 10px;">spark</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/sqlGenerator/" style="font-size: 10px;">sqlGenerator</a> <a href="/tags/superset/" style="font-size: 10px;">superset</a> <a href="/tags/事务处理/" style="font-size: 10px;">事务处理</a> <a href="/tags/二次开发/" style="font-size: 10px;">二次开发</a> <a href="/tags/函数式编程/" style="font-size: 10px;">函数式编程</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/大数据/" style="font-size: 20px;">大数据</a> <a href="/tags/学习/" style="font-size: 17.5px;">学习</a> <a href="/tags/成长/" style="font-size: 17.5px;">成长</a> <a href="/tags/架构/" style="font-size: 17.5px;">架构</a> <a href="/tags/源码/" style="font-size: 15px;">源码</a> <a href="/tags/读书/" style="font-size: 10px;">读书</a>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-06T17:42:13.000Z">2020-01-07</time></div>
                    <a href="/2020/01/07/MR任务在Hadoop子系统中状态流转/" class="title has-link-black-ter is-size-6 has-text-weight-normal">MR任务在Hadoop子系统中状态流转</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-04T17:47:46.000Z">2019-11-05</time></div>
                    <a href="/2019/11/05/Yarn-Federation源码串读/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Yarn Federation源码串读</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-04T17:38:28.000Z">2019-11-05</time></div>
                    <a href="/2019/11/05/Hadoop-Rpc源码分析/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Hadoop Rpc源码分析</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-10T05:08:55.000Z">2019-06-10</time></div>
                    <a href="/2019/06/10/【Spark源码分析】Job提交执行过程详解/" class="title has-link-black-ter is-size-6 has-text-weight-normal">【Spark源码分析】Job提交执行过程详解</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-02T05:31:16.000Z">2019-06-02</time></div>
                    <a href="/2019/06/02/【Spark源码分析】Broadcast/" class="title has-link-black-ter is-size-6 has-text-weight-normal">【Spark源码分析】Broadcast</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">五月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BigData/">
                        <span class="tag">BigData</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Crawler/">
                        <span class="tag">Crawler</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HBase/">
                        <span class="tag">HBase</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hadoop/">
                        <span class="tag">Hadoop</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hbase/">
                        <span class="tag">Hbase</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/InnoDB/">
                        <span class="tag">InnoDB</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JVM/">
                        <span class="tag">JVM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Java/">
                        <span class="tag">Java</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kylin/">
                        <span class="tag">Kylin</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ReentrantLock/">
                        <span class="tag">ReentrantLock</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Spark/">
                        <span class="tag">Spark</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Spring/">
                        <span class="tag">Spring</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Yarn/">
                        <span class="tag">Yarn</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/aop/">
                        <span class="tag">aop</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/data/">
                        <span class="tag">data</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/infrastructure/">
                        <span class="tag">infrastructure</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ioc/">
                        <span class="tag">ioc</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/java8/">
                        <span class="tag">java8</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kylin/">
                        <span class="tag">kylin</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kylin-Java-源码/">
                        <span class="tag">kylin - Java - 源码</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/paper/">
                        <span class="tag">paper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spark/">
                        <span class="tag">spark</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/sqlGenerator/">
                        <span class="tag">sqlGenerator</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/superset/">
                        <span class="tag">superset</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事务处理/">
                        <span class="tag">事务处理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二次开发/">
                        <span class="tag">二次开发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/函数式编程/">
                        <span class="tag">函数式编程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/大数据/">
                        <span class="tag">大数据</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/学习/">
                        <span class="tag">学习</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/成长/">
                        <span class="tag">成长</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/架构/">
                        <span class="tag">架构</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/源码/">
                        <span class="tag">源码</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/读书/">
                        <span class="tag">读书</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-06T17:42:13.000Z">2020-01-07</time></div>
                    <a href="/2020/01/07/MR任务在Hadoop子系统中状态流转/" class="title has-link-black-ter is-size-6 has-text-weight-normal">MR任务在Hadoop子系统中状态流转</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-04T17:47:46.000Z">2019-11-05</time></div>
                    <a href="/2019/11/05/Yarn-Federation源码串读/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Yarn Federation源码串读</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-04T17:38:28.000Z">2019-11-05</time></div>
                    <a href="/2019/11/05/Hadoop-Rpc源码分析/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Hadoop Rpc源码分析</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-10T05:08:55.000Z">2019-06-10</time></div>
                    <a href="/2019/06/10/【Spark源码分析】Job提交执行过程详解/" class="title has-link-black-ter is-size-6 has-text-weight-normal">【Spark源码分析】Job提交执行过程详解</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-02T05:31:16.000Z">2019-06-02</time></div>
                    <a href="/2019/06/02/【Spark源码分析】Broadcast/" class="title has-link-black-ter is-size-6 has-text-weight-normal">【Spark源码分析】Broadcast</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">五月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BigData/">
                        <span class="tag">BigData</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Crawler/">
                        <span class="tag">Crawler</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HBase/">
                        <span class="tag">HBase</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hadoop/">
                        <span class="tag">Hadoop</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hbase/">
                        <span class="tag">Hbase</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/InnoDB/">
                        <span class="tag">InnoDB</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JVM/">
                        <span class="tag">JVM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Java/">
                        <span class="tag">Java</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kylin/">
                        <span class="tag">Kylin</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ReentrantLock/">
                        <span class="tag">ReentrantLock</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Spark/">
                        <span class="tag">Spark</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Spring/">
                        <span class="tag">Spring</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Yarn/">
                        <span class="tag">Yarn</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/aop/">
                        <span class="tag">aop</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/data/">
                        <span class="tag">data</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/infrastructure/">
                        <span class="tag">infrastructure</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ioc/">
                        <span class="tag">ioc</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/java8/">
                        <span class="tag">java8</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kylin/">
                        <span class="tag">kylin</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kylin-Java-源码/">
                        <span class="tag">kylin - Java - 源码</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/paper/">
                        <span class="tag">paper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spark/">
                        <span class="tag">spark</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/sqlGenerator/">
                        <span class="tag">sqlGenerator</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/superset/">
                        <span class="tag">superset</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事务处理/">
                        <span class="tag">事务处理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二次开发/">
                        <span class="tag">二次开发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/函数式编程/">
                        <span class="tag">函数式编程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/大数据/">
                        <span class="tag">大数据</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/学习/">
                        <span class="tag">学习</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/成长/">
                        <span class="tag">成长</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/架构/">
                        <span class="tag">架构</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/源码/">
                        <span class="tag">源码</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/读书/">
                        <span class="tag">读书</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/hadoop_logo.jpg" alt="CHAO LI&#39;s Blog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 John Doe&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                共<span id="busuanzi_value_site_uv">0</span>个访客
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://yoursite.com',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>