<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>CHAO LI's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CHAO LI's Blog</h1><a id="logo" href="/.">CHAO LI's Blog</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2019/01/12/【spark-tips】spark2-4-0触发的executor内存溢出排查/">【spark-tips】spark2.4.0触发的executor内存溢出排查</a></h1><div class="post-meta">2019-01-12</div><a data-disqus-identifier="2019/01/12/【spark-tips】spark2-4-0触发的executor内存溢出排查/" href="/2019/01/12/【spark-tips】spark2-4-0触发的executor内存溢出排查/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="版本升级背景"><a href="#版本升级背景" class="headerlink" title="版本升级背景"></a>版本升级背景</h3><p>spark 2.4.0 最近刚发版，新增了很多令人振奋的特性。由于本司目前使用的是spark 2.3.0版本，本没打算这么快升级到2.4.0。无奈最近排查出的两个大bug迫使我们只能对spark进行升级。排查的两个bug如下：<br></p></div><p class="readmore"><a href="/2019/01/12/【spark-tips】spark2-4-0触发的executor内存溢出排查/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/12/20/Flink实战总结/">Flink实战总结</a></h1><div class="post-meta">2018-12-20</div><a data-disqus-identifier="2018/12/20/Flink实战总结/" href="/2018/12/20/Flink实战总结/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h3 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h3><ul>
<li>flink程序能实现在分布式的结合上进行各种转换操作，集合通常来自订阅的来源（文件，kafka,local,in-memory），结果被返回到sinks里（大多数写入分布式文件系统，或者标准输出）</li></div><p class="readmore"><a href="/2018/12/20/Flink实战总结/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/10/15/Spark学习笔记/">Spark实战总结</a></h1><div class="post-meta">2018-10-15</div><a data-disqus-identifier="2018/10/15/Spark学习笔记/" href="/2018/10/15/Spark学习笔记/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="Spark-基础"><a href="#Spark-基础" class="headerlink" title="Spark 基础"></a>Spark 基础</h2><h3 id="Spark-的构成"><a href="#Spark-的构成" class="headerlink" title="Spark 的构成"></a>Spark 的构成</h3><ul></div><p class="readmore"><a href="/2018/10/15/Spark学习笔记/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/08/30/airflow实战总结/">airflow实战总结</a></h1><div class="post-meta">2018-08-30</div><a data-disqus-identifier="2018/08/30/airflow实战总结/" href="/2018/08/30/airflow实战总结/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><ul>
<li>airflow是一款开源的，分布式任务调度框架，它将一个具有上下级依赖关系的工作流，组装成一个有向无环图。</li>
<li>特点:<ul>
<li>分布式任务调度：允许一个工作流的task在多台worker上同时执行</li></div><p class="readmore"><a href="/2018/08/30/airflow实战总结/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/08/12/impala集群搭建/">impala集群搭建</a></h1><div class="post-meta">2018-08-12</div><a data-disqus-identifier="2018/08/12/impala集群搭建/" href="/2018/08/12/impala集群搭建/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul>
<li>说起Impala，很多人都不会陌生。它区别于MapReduce 中间结果溢写，跨节点数据获取的低效，采用MPP 查询引擎，各查询节点并发执行查询语句，并将生成的查询结果汇总输出。</li></div><p class="readmore"><a href="/2018/08/12/impala集群搭建/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/04/24/okhttp-support-100-continue-for-palo/">okhttp support 100-continue for palo</a></h1><div class="post-meta">2018-04-24</div><a data-disqus-identifier="2018/04/24/okhttp-support-100-continue-for-palo/" href="/2018/04/24/okhttp-support-100-continue-for-palo/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>虽然百度的Palo是个很强大的，基于MPP Search Engine的OLAP框架，但是由于处于开源的早期阶段，各方面都不是很完善。其中，Palo集群的稳定性对于日渐依赖Palo的核心的业务来说显得尤为重要。最近也一直在做Palo稳定性建设相关的工作。在对全链路监控这块，自然而然地想到对业务中使用频繁的http-mini-load接口进行SDK封装，以实现对请求进行失败重试以及失败率的监控报警的功能。</p></div><p class="readmore"><a href="/2018/04/24/okhttp-support-100-continue-for-palo/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/03/26/JVM知识总结/">JVM知识总结</a></h1><div class="post-meta">2018-03-26</div><a data-disqus-identifier="2018/03/26/JVM知识总结/" href="/2018/03/26/JVM知识总结/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="HotSpot-JVM-Architecture"><a href="#HotSpot-JVM-Architecture" class="headerlink" title="HotSpot JVM Architecture"></a>HotSpot JVM Architecture</h2><p><img src="http://imgs.wanhb.cn/hotspotjvm-1.png" alt="HotSpot JVM Architecture"></p></div><p class="readmore"><a href="/2018/03/26/JVM知识总结/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/10/31/kylin-query原理剖析/">kylin query原理剖析</a></h1><div class="post-meta">2017-10-31</div><a data-disqus-identifier="2017/10/31/kylin-query原理剖析/" href="/2017/10/31/kylin-query原理剖析/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近我们组负责数据建模的同学抱怨kylin的relization选择策略：同一个project下一条查询语句本来期望命中某一个cube的，结果系统却选择了其他cube。之前也有大概翻阅过kylin这块的实现源码，知道如果同一个project下如果有多个满足条件的的实现，会按照成本排序并选择成本最低的那个实现。对于成本这块的度量标准，没有做过多研究，于是带着问题，对这块源码进行了一次梳理。</p></div><p class="readmore"><a href="/2017/10/31/kylin-query原理剖析/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/10/13/superset-customization/">superset customization</a></h1><div class="post-meta">2017-10-13</div><a data-disqus-identifier="2017/10/13/superset-customization/" href="/2017/10/13/superset-customization/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><ul>
<li><p>由于数据组目前重度依赖kylin，然而kylin并没有官方开源的数据可视化工具。所幸kylin提供了丰富的查询API供我们直接传入SQL进行查询，与此同时发现superset有非官方对接kylin的开源插件，虽然两年没有维护了，对代码进行了部分重构也就成功将superset和kylin对接起来了。</p></div><p class="readmore"><a href="/2017/10/13/superset-customization/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/09/23/lombok-builder-泛型擦除问题/">lombok builder 泛型擦除</a></h1><div class="post-meta">2017-09-23</div><a data-disqus-identifier="2017/09/23/lombok-builder-泛型擦除问题/" href="/2017/09/23/lombok-builder-泛型擦除问题/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><ul>
<li><p>众所周知，Java长期以来比较遭业界嫌弃的是太笨重，代码冗余过大。然而依托于Java庞大健全的开源社区，这些缺点正在逐渐改善。Java 8 引进的lambda以及函数式编程的思想让我们的代码越来越简洁。lombok等各大开源神器让我们的冗余代码越来越少。</p></div><p class="readmore"><a href="/2017/09/23/lombok-builder-泛型擦除问题/">阅读全文</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a></nav><script id="dsq-count-scr" src="//https://jacobs-wanhb.disqus.com/embed.js.disqus.com/count.js" async></script></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/HBase/" style="font-size: 15px;">HBase</a> <a href="/tags/BigData/" style="font-size: 15px;">BigData</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/Hbase/" style="font-size: 15px;">Hbase</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/kylin/" style="font-size: 15px;">kylin</a> <a href="/tags/superset/" style="font-size: 15px;">superset</a> <a href="/tags/二次开发/" style="font-size: 15px;">二次开发</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/kylin-Java-源码/" style="font-size: 15px;">kylin - Java - 源码</a> <a href="/tags/spark/" style="font-size: 15px;">spark</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/成长/" style="font-size: 15px;">成长</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/ReentrantLock/" style="font-size: 15px;">ReentrantLock</a> <a href="/tags/infrastructure/" style="font-size: 15px;">infrastructure</a> <a href="/tags/data/" style="font-size: 15px;">data</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Crawler/" style="font-size: 15px;">Crawler</a> <a href="/tags/Kylin/" style="font-size: 15px;">Kylin</a> <a href="/tags/源码/" style="font-size: 15px;">源码</a> <a href="/tags/java8/" style="font-size: 15px;">java8</a> <a href="/tags/sqlGenerator/" style="font-size: 15px;">sqlGenerator</a> <a href="/tags/函数式编程/" style="font-size: 15px;">函数式编程</a> <a href="/tags/InnoDB/" style="font-size: 15px;">InnoDB</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/读书/" style="font-size: 15px;">读书</a> <a href="/tags/ioc/" style="font-size: 15px;">ioc</a> <a href="/tags/aop/" style="font-size: 15px;">aop</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/学习/" style="font-size: 15px;">学习</a> <a href="/tags/大数据/" style="font-size: 15px;">大数据</a> <a href="/tags/Spark/" style="font-size: 15px;">Spark</a> <a href="/tags/事务处理/" style="font-size: 15px;">事务处理</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/01/12/【spark-tips】spark2-4-0触发的executor内存溢出排查/">【spark-tips】spark2.4.0触发的executor内存溢出排查</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/20/Flink实战总结/">Flink实战总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/15/Spark学习笔记/">Spark实战总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/30/airflow实战总结/">airflow实战总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/12/impala集群搭建/">impala集群搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/24/okhttp-support-100-continue-for-palo/">okhttp support 100-continue for palo</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/26/JVM知识总结/">JVM知识总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/31/kylin-query原理剖析/">kylin query原理剖析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/13/superset-customization/">superset customization</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/23/lombok-builder-泛型擦除问题/">lombok builder 泛型擦除</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//https://jacobs-wanhb.disqus.com/embed.js.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.zhihu.com/people/chao-li-11/activities" title="知乎" target="_blank">知乎</a><ul></ul><a href="http://weibo.com/3101672623/profile?topnav=1&amp;wvr=6" title="微博" target="_blank">微博</a><ul></ul><a href="https://github.com/lichaojacobs" title="GitHub" target="_blank">GitHub</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">CHAO LI's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?4ca08f1c48fe3bf3d0e2bfb54473d985## Your Baidu Analytics tracking id, e.g. 8006843039519956000";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>